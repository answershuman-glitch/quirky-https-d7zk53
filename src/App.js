import React, { useState } from "react";

const questions = [
  {
    q: "æœã®ç›®è¦šã‚ã¯ã©ã‚“ãªæ„Ÿã˜ï¼Ÿ",
    a: [
      "ç›®è¦šã¾ã—ãŒé³´ã‚‹å‰ã«èµ·ãã‚‹",
      "ã‚¹ãƒŒãƒ¼ã‚ºã‚’ä½•åº¦ã‚‚æŠ¼ã™",
      "ã‚®ãƒªã‚®ãƒªã¾ã§å¯ã¦ã„ãŸã„",
      "æœã¯ã‚¨ãƒ³ã‚¸ãƒ³ãŒã‹ã‹ã‚‹ã®ã«æ™‚é–“ãŒã‹ã‹ã‚‹",
    ],
  },
  {
    q: "å¯ã‚‹æ™‚é–“ã¯ã ã„ãŸã„ï¼Ÿ",
    a: [
      "å¤œ10æ™‚å‰ã«ã¯å¯ã‚‹",
      "11æ™‚ã€œ0æ™‚ã”ã‚",
      "æ·±å¤œ1ã€œ2æ™‚",
      "ã‹ãªã‚Šé…ãã¾ã§èµ·ãã¦ã„ã‚‹",
    ],
  },
  {
    q: "ç†æƒ³çš„ãªç¡çœ æ™‚é–“ã¯ï¼Ÿ",
    a: ["7ã€œ8æ™‚é–“ã¯ã—ã£ã‹ã‚Šå¯ãŸã„", "6æ™‚é–“ãã‚‰ã„ã§ååˆ†", "5æ™‚é–“ä»¥ä¸‹ã§ã‚‚å¹³æ°—", "æ—¥ã«ã‚ˆã£ã¦ã¾ã¡ã¾ã¡"],
  },
  {
    q: "ä¼‘æ—¥ã®éã”ã—æ–¹ã¯ï¼Ÿ",
    a: ["æœæ—©ãèµ·ãã¦æ´»å‹•ã™ã‚‹", "å°‘ã—ã‚†ã£ãã‚Šèµ·ãã¦å‡ºã‹ã‘ã‚‹", "åˆå‰ä¸­ã¯å¯ã¦ã„ãŸã„", "æ˜¼éãã¾ã§ãƒ™ãƒƒãƒ‰ã§ã‚´ãƒ­ã‚´ãƒ­"],
  },
  {
    q: "çœ ã‚‹å‰ã®ç¿’æ…£ã¯ï¼Ÿ",
    a: ["ã‚¹ãƒãƒ›ã‚„SNSã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹", "æœ¬ã‚’èª­ã‚€ãƒ»éŸ³æ¥½ã‚’è´ã", "ã™ãå¯ã‚ˆã†ã¨ã—ã¦é›»æ°—ã‚’æ¶ˆã™", "å¯ã‚‹å‰ã¯è€ƒãˆã”ã¨ã‚’ã—ã¦ã—ã¾ã†"],
  },
  {
    q: "ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒæœ€ã‚‚é«˜ã„æ™‚é–“å¸¯ã¯ï¼Ÿ",
    a: ["æœï¼ˆåˆå‰ä¸­ï¼‰", "åˆå¾Œï¼ˆæ˜¼éãã€œå¤•æ–¹ï¼‰", "å¤œ", "æ·±å¤œã€œæ—©æœ"],
  },
  {
    q: "ç¡çœ ã®æ‚©ã¿ãŒã‚ã‚‹ï¼Ÿ",
    a: ["å¯ã¤ããŒæ‚ªã„", "é€”ä¸­ã§ç›®ãŒè¦šã‚ã‚‹", "æœèµ·ãã¦ã‚‚ç–²ã‚Œã¦ã„ã‚‹", "ç‰¹ã«å•é¡Œãªã—"],
  },
];

const results = {
  lion: {
    title: "ğŸ¦ ãƒ©ã‚¤ã‚ªãƒ³å‹ï¼ˆæ—©èµ·ãã‚¿ã‚¤ãƒ—ï¼‰",
    desc: "æœã«æœ€ã‚‚é›†ä¸­ã§ãã‚‹ã‚¿ã‚¤ãƒ—ã€‚åˆå‰ä¸­ã«é‡è¦ãªä»•äº‹ã‚„å‹‰å¼·ã‚’æ¸ˆã¾ã›ã‚‹ã¨åŠ¹ç‡çš„ã€‚å¤œã¯æ—©ã‚ã«ãƒªãƒ©ãƒƒã‚¯ã‚¹ãƒ¢ãƒ¼ãƒ‰ã¸ã€‚",
  },
  bear: {
    title: "ğŸ» ã‚¯ãƒå‹ï¼ˆå¹³å‡ã‚¿ã‚¤ãƒ—ï¼‰",
    desc: "å¤ªé™½ã®ãƒªã‚ºãƒ ã«æ²¿ã£ã¦ç”Ÿæ´»ã™ã‚‹ã‚¿ã‚¤ãƒ—ã€‚ç¡çœ ã®è³ªã‚’é«˜ã‚ã‚‹ã«ã¯ã€æ¯æ—¥åŒã˜æ™‚é–“ã«å¯èµ·ãã™ã‚‹ã®ãŒã‚«ã‚®ã€‚",
  },
  wolf: {
    title: "ğŸº ã‚ªã‚ªã‚«ãƒŸå‹ï¼ˆå¤œå‹ã‚¿ã‚¤ãƒ—ï¼‰",
    desc: "å¤œã«ãªã‚‹ã¨é›†ä¸­åŠ›ãŒä¸ŠãŒã‚‹ã‚¿ã‚¤ãƒ—ã€‚æœã¯ç„¡ç†ã›ãšã€å¤œã®å‰µé€ çš„ãªæ™‚é–“ã‚’ã†ã¾ãä½¿ã†ã®ãŒãŠã™ã™ã‚ã€‚",
  },
  dolphin: {
    title: "ğŸ¬ ã‚¤ãƒ«ã‚«å‹ï¼ˆæµ…çœ ã‚¿ã‚¤ãƒ—ï¼‰",
    desc: "çœ ã‚ŠãŒæµ…ãç¹Šç´°ãªã‚¿ã‚¤ãƒ—ã€‚å¯ã‚‹å‰ã®ãƒ‡ã‚¸ã‚¿ãƒ«æ–­ã¡ã‚„ã€æ·±å‘¼å¸ãƒ»ç‘æƒ³ãªã©ãŒåŠ¹æœçš„ã§ã™ã€‚",
  },
};

export default function App() {
  const [step, setStep] = useState(0);
  const [answers, setAnswers] = useState([]);

  const handleAnswer = (answer) => {
    setAnswers([...answers, answer]);
    setStep(step + 1);
  };

  const getResult = () => {
    const score = answers.reduce((acc, _, i) => acc + i, 0);
    if (score < 7) return results.lion;
    if (score < 14) return results.bear;
    if (score < 21) return results.wolf;
    return results.dolphin;
  };

  if (step >= questions.length) {
    const result = getResult();
    return (
      <div style={{ maxWidth: 500, margin: "40px auto", textAlign: "center" }}>
        <h2>ã‚ãªãŸã®ç¡çœ ã‚¿ã‚¤ãƒ—ã¯â€¦</h2>
        <h3>{result.title}</h3>
        <p>{result.desc}</p>
        <button
          onClick={() => {
            setStep(0);
            setAnswers([]);
          }}
          style={{ marginTop: 20 }}
        >
          ã‚‚ã†ä¸€åº¦ã‚„ã‚‹
        </button>
      </div>
    );
  }

  const q = questions[step];

  return (
    <div style={{ maxWidth: 500, margin: "40px auto", textAlign: "center" }}>
      <h2>{q.q}</h2>
      <div style={{ display: "grid", gap: "10px", marginTop: 20 }}>
        {q.a.map((option, i) => (
          <button key={i} onClick={() => handleAnswer(option)}>
            {option}
          </button>
        ))}
      </div>
      <p style={{ marginTop: 20 }}>
        è³ªå• {step + 1} / {questions.length}
      </p>
    </div>
  );
}
